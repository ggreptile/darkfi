<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Defines the networking protocol used at each stage in a connection. Consists of a series of messages that are sent across the network at the different connection stages."><title>darkfi::net::protocol - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-cb6f1f67f1bcd037.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="darkfi" data-themes="" data-resource-suffix="" data-rustdoc-version="1.73.0-nightly (31395ec38 2023-07-24)" data-channel="nightly" data-search-js="search-6dfdfced5eff6596.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-6d2c9675f3d09c26.css" data-theme-dark-css="dark-45ceb8f2e522f4d1.css" data-theme-ayu-css="ayu-fd19013d6ce078bf.css" ><script src="../../../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="../../../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../../static.files/light-6d2c9675f3d09c26.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../../static.files/dark-45ceb8f2e522f4d1.css"><link rel="stylesheet" href="../../../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../darkfi/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../../darkfi/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module protocol</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../index.html">darkfi</a>::<wbr><a href="../index.html">net</a>::<wbr><a class="mod" href="#">protocol</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../../src/darkfi/net/protocol/mod.rs.html#19-81">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Defines the networking protocol used at each stage in a connection.
Consists of a series of messages that are sent across the network at
the different connection stages.</p>
<p>When a node connects to a network for the first time, it must follow
a seed protocol, which provides it with a list of network hosts to
connect to. To establish a connection to another node, nodes must send
version and version acknowledgement messages. During a connection, nodes
continually get address and get-address messages to inform each other
about what nodes are on the network. Nodes also send out a ping and pong
message which keeps the network from shutting down.</p>
<p>Protocol submodule also implements a jobs manager that handles the
asynchronous execution of the protocols.</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.ProtocolVersion"><code>pub use protocol_version::<a class="struct" href="protocol_version/struct.ProtocolVersion.html" title="struct darkfi::net::protocol::protocol_version::ProtocolVersion">ProtocolVersion</a>;</code></div></li><li><div class="item-name" id="reexport.ProtocolPing"><code>pub use protocol_ping::<a class="struct" href="protocol_ping/struct.ProtocolPing.html" title="struct darkfi::net::protocol::protocol_ping::ProtocolPing">ProtocolPing</a>;</code></div></li><li><div class="item-name" id="reexport.ProtocolAddress"><code>pub use protocol_address::<a class="struct" href="protocol_address/struct.ProtocolAddress.html" title="struct darkfi::net::protocol::protocol_address::ProtocolAddress">ProtocolAddress</a>;</code></div></li><li><div class="item-name" id="reexport.ProtocolSeed"><code>pub use protocol_seed::<a class="struct" href="protocol_seed/struct.ProtocolSeed.html" title="struct darkfi::net::protocol::protocol_seed::ProtocolSeed">ProtocolSeed</a>;</code></div></li></ul><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="protocol_address/index.html" title="mod darkfi::net::protocol::protocol_address">protocol_address</a></div><div class="desc docblock-short">Protocol for address and get-address messages. Implements how nodes
exchange connection information about other nodes on the network.
Address and get-address messages are exchanged continually alongside
ping-pong messages as part of a network connection.</div></li><li><div class="item-name"><a class="mod" href="protocol_base/index.html" title="mod darkfi::net::protocol::protocol_base">protocol_base</a></div><div class="desc docblock-short">Base trait for implementing P2P protocols</div></li><li><div class="item-name"><a class="mod" href="protocol_jobs_manager/index.html" title="mod darkfi::net::protocol::protocol_jobs_manager">protocol_jobs_manager</a></div><div class="desc docblock-short">Manages the tasks for the network protocol. Used by other connection
protocols to handle asynchronous task execution across the network.
Runs all tasks that are handed to it on an executor that has stopping
functionality.</div></li><li><div class="item-name"><a class="mod" href="protocol_ping/index.html" title="mod darkfi::net::protocol::protocol_ping">protocol_ping</a></div><div class="desc docblock-short">Protocol for ping-pong keepalive messages. Implements ping message and
pong response. These messages are like the network heartbeat - they are
sent continually between nodes, to ensure each node is still alive and
active. Ping-pong messages ensure that the network doesn’t time out.</div></li><li><div class="item-name"><a class="mod" href="protocol_registry/index.html" title="mod darkfi::net::protocol::protocol_registry">protocol_registry</a></div><div class="desc docblock-short">Interface for registering arbitrary P2P protocols</div></li><li><div class="item-name"><a class="mod" href="protocol_seed/index.html" title="mod darkfi::net::protocol::protocol_seed">protocol_seed</a></div><div class="desc docblock-short">Seed servere protocol. Seed server is used when connecting to the network
for the first time. Returns a list of peers that nodes can connect to.</div></li><li><div class="item-name"><a class="mod" href="protocol_version/index.html" title="mod darkfi::net::protocol::protocol_version">protocol_version</a></div><div class="desc docblock-short">Protocol for version information handshake between nodes at the start
of a connection. This is the first step when establishing a p2p conn.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.register_default_protocols.html" title="fn darkfi::net::protocol::register_default_protocols">register_default_protocols</a></div><div class="desc docblock-short">Register the default network protocols for a p2p instance.</div></li></ul></section></div></main></body></html>