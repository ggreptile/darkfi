<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="`bridgetree`"><title>bridgetree - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-cb6f1f67f1bcd037.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="bridgetree" data-themes="" data-resource-suffix="" data-rustdoc-version="1.73.0-nightly (31395ec38 2023-07-24)" data-channel="nightly" data-search-js="search-6dfdfced5eff6596.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-6d2c9675f3d09c26.css" data-theme-dark-css="dark-45ceb8f2e522f4d1.css" data-theme-ayu-css="ayu-fd19013d6ce078bf.css" ><script src="../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-6d2c9675f3d09c26.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-45ceb8f2e522f4d1.css"><link rel="stylesheet" href="../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../bridgetree/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../bridgetree/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate bridgetree</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.3.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">bridgetree</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/bridgetree/lib.rs.html#1-1249">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="bridgetree"><a href="#bridgetree"><code>bridgetree</code></a></h2>
<p>This crate provides an implementation of an append-only Merkle tree structure. Individual
leaves of the merkle tree may be marked such that witnesses will be maintained for the marked
leaves as additional nodes are appended to the tree, but leaf and node data not specifically
required to maintain these witnesses is not retained, for space efficiency. The data structure
also supports checkpointing of the tree state such that the tree may be reset to a previously
checkpointed state, up to a fixed number of checkpoints.</p>
<p>The crate also supports using “bridges” containing the minimal possible amount of data to
advance witnesses for marked leaves data up to recent checkpoints or the the latest state of
the tree without having to append each intermediate leaf individually, given a bridge between
the desired states computed by an outside source. The state of the tree is internally
represented as a set of such bridges, and the data structure supports fusing and splitting of
bridges.</p>
<h3 id="marking"><a href="#marking">Marking</a></h3>
<p>Merkle trees can be used to show that a value exists in the tree by providing a witness
to a leaf value. We provide an API that allows us to mark the current leaf as a value we wish
to compute witnesses for even after the tree has been appended to in the future; this is called
maintaining a witness. When we’re later no longer in a leaf, we can remove the mark and drop
the now unnecessary information from the structure.</p>
<h3 id="checkpoints-and-rollbacks"><a href="#checkpoints-and-rollbacks">Checkpoints and Rollbacks</a></h3>
<p>This data structure supports a limited capability to restore previous states of the Merkle
tree. It is possible identify the current state of the tree as a “checkpoint” to which the tree
can be reset, and later remove checkpoints that we’re no longer interested in being able to
reset the state to.</p>
<p>In this module, the term “ommer” is used as for the sibling of a parent node in a binary tree.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Address.html" title="struct bridgetree::Address">Address</a></div><div class="desc docblock-short">The address of an internal node of the Merkle tree.
When <code>level == 0</code>, the index has the same value as the
position.</div></li><li><div class="item-name"><a class="struct" href="struct.BridgeTree.html" title="struct bridgetree::BridgeTree">BridgeTree</a></div><div class="desc docblock-short">A sparse representation of a Merkle tree with linear appending of leaves that contains enough
information to produce a witness for any <code>mark</code>ed leaf.</div></li><li><div class="item-name"><a class="struct" href="struct.Checkpoint.html" title="struct bridgetree::Checkpoint">Checkpoint</a></div><div class="desc docblock-short">A data structure used to store the information necessary to “rewind” the state of a
<a href="struct.BridgeTree.html" title="struct bridgetree::BridgeTree"><code>BridgeTree</code></a> to a particular leaf position.</div></li><li><div class="item-name"><a class="struct" href="struct.Frontier.html" title="struct bridgetree::Frontier">Frontier</a></div><div class="desc docblock-short">A possibly-empty Merkle frontier.</div></li><li><div class="item-name"><a class="struct" href="struct.Level.html" title="struct bridgetree::Level">Level</a></div><div class="desc docblock-short">A type-safe wrapper for indexing into “levels” of a binary tree, such that
nodes at level <code>0</code> are leaves, nodes at level <code>1</code> are parents of nodes at
level <code>0</code>, and so forth. This type is capable of representing levels in
trees containing up to 2^255 leaves.</div></li><li><div class="item-name"><a class="struct" href="struct.MerkleBridge.html" title="struct bridgetree::MerkleBridge">MerkleBridge</a></div><div class="desc docblock-short">The information required to “update” witnesses from one state of a Merkle tree to another.</div></li><li><div class="item-name"><a class="struct" href="struct.NonEmptyFrontier.html" title="struct bridgetree::NonEmptyFrontier">NonEmptyFrontier</a></div><div class="desc docblock-short">A <a href="struct.NonEmptyFrontier.html" title="struct bridgetree::NonEmptyFrontier"><code>NonEmptyFrontier</code></a> is a reduced representation of a Merkle tree, containing a single leaf
value, along with the vector of hashes produced by the reduction of previously appended leaf
values that will be required when producing a witness for the current leaf.</div></li><li><div class="item-name"><a class="struct" href="struct.Position.html" title="struct bridgetree::Position">Position</a></div><div class="desc docblock-short">A type representing the position of a leaf in a Merkle tree.</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.BridgeTreeError.html" title="enum bridgetree::BridgeTreeError">BridgeTreeError</a></div><div class="desc docblock-short">Errors that can appear when validating the internal consistency of a <code>[BridgeTree]</code>
value when constructing a tree from its constituent parts.</div></li><li><div class="item-name"><a class="enum" href="enum.ContinuityError.html" title="enum bridgetree::ContinuityError">ContinuityError</a></div><div class="desc docblock-short">Errors that can be discovered during checks that verify the compatibility of adjacent bridges.</div></li><li><div class="item-name"><a class="enum" href="enum.Retention.html" title="enum bridgetree::Retention">Retention</a></div><div class="desc docblock-short">A type for metadata that is used to determine when and how a leaf can be pruned from a tree.</div></li><li><div class="item-name"><a class="enum" href="enum.Source.html" title="enum bridgetree::Source">Source</a></div></li><li><div class="item-name"><a class="enum" href="enum.WitnessingError.html" title="enum bridgetree::WitnessingError">WitnessingError</a></div><div class="desc docblock-short">Errors that can be discovered during the process of attempting to create
the witness for a leaf node.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.Hashable.html" title="trait bridgetree::Hashable">Hashable</a></div><div class="desc docblock-short">A trait describing the operations that make a type suitable for use as
a leaf or node value in a merkle tree.</div></li></ul></section></div></main></body></html>