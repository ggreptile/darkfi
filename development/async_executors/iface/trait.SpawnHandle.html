<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Lets you spawn and get a JoinHandle to await the output of a future."><title>SpawnHandle in async_executors::iface - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-cb6f1f67f1bcd037.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="async_executors" data-themes="" data-resource-suffix="" data-rustdoc-version="1.73.0-nightly (31395ec38 2023-07-24)" data-channel="nightly" data-search-js="search-6dfdfced5eff6596.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-6d2c9675f3d09c26.css" data-theme-dark-css="dark-45ceb8f2e522f4d1.css" data-theme-ayu-css="ayu-fd19013d6ce078bf.css" ><script src="../../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-6d2c9675f3d09c26.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-45ceb8f2e522f4d1.css"><link rel="stylesheet" href="../../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../async_executors/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../async_executors/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">SpawnHandle</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.spawn_handle_obj">spawn_handle_obj</a></li></ul><h3><a href="#foreign-impls">Implementations on Foreign Types</a></h3><ul class="block"><li><a href="#impl-SpawnHandle%3COut%3E-for-%26SH">&amp;SH</a></li><li><a href="#impl-SpawnHandle%3COut%3E-for-%26mut+SH">&amp;mut SH</a></li><li><a href="#impl-SpawnHandle%3COut%3E-for-Arc%3CSH%3E">Arc&lt;SH&gt;</a></li><li><a href="#impl-SpawnHandle%3COut%3E-for-Box%3CSH%3E">Box&lt;SH&gt;</a></li><li><a href="#impl-SpawnHandle%3COut%3E-for-Rc%3CSH%3E">Rc&lt;SH&gt;</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In async_executors::iface</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">async_executors</a>::<wbr><a href="index.html">iface</a>::<wbr><a class="trait" href="#">SpawnHandle</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/async_executors/iface/spawn_handle.rs.html#57-62">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait SpawnHandle&lt;Out: 'static + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>&gt; {
    // Required method
    fn <a href="#tymethod.spawn_handle_obj" class="fn">spawn_handle_obj</a>(
        &amp;self,
        future: <a class="struct" href="../../futures_task/future_obj/struct.FutureObj.html" title="struct futures_task::future_obj::FutureObj">FutureObj</a>&lt;'static, Out&gt;
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.JoinHandle.html" title="struct async_executors::iface::JoinHandle">JoinHandle</a>&lt;Out&gt;, <a class="struct" href="../../futures_task/spawn/struct.SpawnError.html" title="struct futures_task::spawn::SpawnError">SpawnError</a>&gt;;
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Lets you spawn and get a <a href="struct.JoinHandle.html" title="struct async_executors::iface::JoinHandle">JoinHandle</a> to await the output of a future.</p>
<p>This trait works much like the <a href="../../futures_task/spawn/trait.Spawn.html" title="trait futures_task::spawn::Spawn"><code>Spawn</code></a> trait from the futures library.
It takes a <a href="../../futures_task/future_obj/struct.FutureObj.html" title="struct futures_task::future_obj::FutureObj"><code>FutureObj</code></a> so we can hopefully make it <code>no_std</code> compatible when needed. This
also allows it to be object safe.  For convenience, there is <a href="trait.SpawnHandleExt.html" title="trait async_executors::iface::SpawnHandleExt"><code>SpawnHandleExt</code></a> which allows you
to spawn a generic future directly without having to manually make the <a href="../../futures_task/future_obj/struct.FutureObj.html" title="struct futures_task::future_obj::FutureObj"><code>FutureObj</code></a>.</p>
<p><a href="trait.SpawnHandleExt.html" title="trait async_executors::iface::SpawnHandleExt"><code>SpawnHandleExt</code></a> is automatically implemented but must be in scope, so this works:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>async_executors::{ SpawnHandle, SpawnHandleExt };

<span class="kw">async fn </span>need_exec( exec: <span class="kw">impl </span>SpawnHandle&lt;()&gt; )
{
   <span class="kw">let </span>join_handle = exec.spawn_handle( <span class="kw">async </span>{} ).expect( <span class="string">&quot;spawn&quot; </span>);

   join_handle.<span class="kw">await</span>;
}</code></pre></div>
<p>and so does this:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>async_executors::{ SpawnHandle, SpawnHandleExt };

<span class="kw">async fn </span>need_exec( exec: Box&lt; <span class="kw">dyn </span>SpawnHandle&lt;()&gt; &gt; )
{
   <span class="kw">let </span>join_handle = exec.spawn_handle( <span class="kw">async </span>{} ).expect( <span class="string">&quot;spawn&quot; </span>);

   join_handle.<span class="kw">await</span>;
}</code></pre></div>
<p>One inconvenience of it having to be object safe is that the trait needs to be generic over the
output parameter. This can be annoying if you need an executor that can spawn futures with different
output parameters. Normally you should always be able to know which ones you need. If not
you will have to make the type that stores the executor generic over the output type as well.</p>
<p>So to enable several output types you can use the
<a href="https://github.com/najamelan/async_executors/tree/master/examples/spawn_handle_multi.rs">following workaround</a>.
You can also use the <a href="https://crates.io/crates/trait-set">trait-set</a> crate to make that <a href="https://github.com/najamelan/async_executors/tree/master/examples/trait_set.rs">more streamlined</a>.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.spawn_handle_obj" class="method"><a class="src rightside" href="../../src/async_executors/iface/spawn_handle.rs.html#61">source</a><h4 class="code-header">fn <a href="#tymethod.spawn_handle_obj" class="fn">spawn_handle_obj</a>(
    &amp;self,
    future: <a class="struct" href="../../futures_task/future_obj/struct.FutureObj.html" title="struct futures_task::future_obj::FutureObj">FutureObj</a>&lt;'static, Out&gt;
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.JoinHandle.html" title="struct async_executors::iface::JoinHandle">JoinHandle</a>&lt;Out&gt;, <a class="struct" href="../../futures_task/spawn/struct.SpawnError.html" title="struct futures_task::spawn::SpawnError">SpawnError</a>&gt;</h4></section></summary><div class="docblock"><p>Spawn a future and return a <a href="struct.JoinHandle.html" title="struct async_executors::iface::JoinHandle"><code>JoinHandle</code></a> that can be awaited for the output of the future.</p>
</div></details></div><h2 id="foreign-impls" class="small-section-header">Implementations on Foreign Types<a href="#foreign-impls" class="anchor">§</a></h2><details class="toggle implementors-toggle"><summary><section id="impl-SpawnHandle%3COut%3E-for-%26SH" class="impl"><a class="src rightside" href="../../src/async_executors/iface/spawn_handle.rs.html#55">source</a><a href="#impl-SpawnHandle%3COut%3E-for-%26SH" class="anchor">§</a><h3 class="code-header">impl&lt;Out: 'static + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>, SH: <a class="trait" href="trait.SpawnHandle.html" title="trait async_executors::iface::SpawnHandle">SpawnHandle</a>&lt;Out&gt; + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="trait.SpawnHandle.html" title="trait async_executors::iface::SpawnHandle">SpawnHandle</a>&lt;Out&gt; for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;SH</a></h3></section></summary><div class="impl-items"><section id="method.spawn_handle_obj" class="method trait-impl"><a class="src rightside" href="../../src/async_executors/iface/spawn_handle.rs.html#55">source</a><a href="#method.spawn_handle_obj" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.spawn_handle_obj" class="fn">spawn_handle_obj</a>(
    &amp;self,
    future: <a class="struct" href="../../futures_task/future_obj/struct.FutureObj.html" title="struct futures_task::future_obj::FutureObj">FutureObj</a>&lt;'static, Out&gt;
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.JoinHandle.html" title="struct async_executors::iface::JoinHandle">JoinHandle</a>&lt;Out&gt;, <a class="struct" href="../../futures_task/spawn/struct.SpawnError.html" title="struct futures_task::spawn::SpawnError">SpawnError</a>&gt;</h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-SpawnHandle%3COut%3E-for-Arc%3CSH%3E" class="impl"><a class="src rightside" href="../../src/async_executors/iface/spawn_handle.rs.html#55">source</a><a href="#impl-SpawnHandle%3COut%3E-for-Arc%3CSH%3E" class="anchor">§</a><h3 class="code-header">impl&lt;Out: 'static + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>, SH: <a class="trait" href="trait.SpawnHandle.html" title="trait async_executors::iface::SpawnHandle">SpawnHandle</a>&lt;Out&gt; + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="trait.SpawnHandle.html" title="trait async_executors::iface::SpawnHandle">SpawnHandle</a>&lt;Out&gt; for <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;SH&gt;</h3></section></summary><div class="impl-items"><section id="method.spawn_handle_obj-1" class="method trait-impl"><a class="src rightside" href="../../src/async_executors/iface/spawn_handle.rs.html#55">source</a><a href="#method.spawn_handle_obj-1" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.spawn_handle_obj" class="fn">spawn_handle_obj</a>(
    &amp;self,
    future: <a class="struct" href="../../futures_task/future_obj/struct.FutureObj.html" title="struct futures_task::future_obj::FutureObj">FutureObj</a>&lt;'static, Out&gt;
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.JoinHandle.html" title="struct async_executors::iface::JoinHandle">JoinHandle</a>&lt;Out&gt;, <a class="struct" href="../../futures_task/spawn/struct.SpawnError.html" title="struct futures_task::spawn::SpawnError">SpawnError</a>&gt;</h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-SpawnHandle%3COut%3E-for-Box%3CSH%3E" class="impl"><a class="src rightside" href="../../src/async_executors/iface/spawn_handle.rs.html#55">source</a><a href="#impl-SpawnHandle%3COut%3E-for-Box%3CSH%3E" class="anchor">§</a><h3 class="code-header">impl&lt;Out: 'static + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>, SH: <a class="trait" href="trait.SpawnHandle.html" title="trait async_executors::iface::SpawnHandle">SpawnHandle</a>&lt;Out&gt;&gt; <a class="trait" href="trait.SpawnHandle.html" title="trait async_executors::iface::SpawnHandle">SpawnHandle</a>&lt;Out&gt; for <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;SH&gt;</h3></section></summary><div class="impl-items"><section id="method.spawn_handle_obj-2" class="method trait-impl"><a class="src rightside" href="../../src/async_executors/iface/spawn_handle.rs.html#55">source</a><a href="#method.spawn_handle_obj-2" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.spawn_handle_obj" class="fn">spawn_handle_obj</a>(
    &amp;self,
    future: <a class="struct" href="../../futures_task/future_obj/struct.FutureObj.html" title="struct futures_task::future_obj::FutureObj">FutureObj</a>&lt;'static, Out&gt;
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.JoinHandle.html" title="struct async_executors::iface::JoinHandle">JoinHandle</a>&lt;Out&gt;, <a class="struct" href="../../futures_task/spawn/struct.SpawnError.html" title="struct futures_task::spawn::SpawnError">SpawnError</a>&gt;</h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-SpawnHandle%3COut%3E-for-Rc%3CSH%3E" class="impl"><a class="src rightside" href="../../src/async_executors/iface/spawn_handle.rs.html#55">source</a><a href="#impl-SpawnHandle%3COut%3E-for-Rc%3CSH%3E" class="anchor">§</a><h3 class="code-header">impl&lt;Out: 'static + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>, SH: <a class="trait" href="trait.SpawnHandle.html" title="trait async_executors::iface::SpawnHandle">SpawnHandle</a>&lt;Out&gt; + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="trait.SpawnHandle.html" title="trait async_executors::iface::SpawnHandle">SpawnHandle</a>&lt;Out&gt; for <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;SH&gt;</h3></section></summary><div class="impl-items"><section id="method.spawn_handle_obj-3" class="method trait-impl"><a class="src rightside" href="../../src/async_executors/iface/spawn_handle.rs.html#55">source</a><a href="#method.spawn_handle_obj-3" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.spawn_handle_obj" class="fn">spawn_handle_obj</a>(
    &amp;self,
    future: <a class="struct" href="../../futures_task/future_obj/struct.FutureObj.html" title="struct futures_task::future_obj::FutureObj">FutureObj</a>&lt;'static, Out&gt;
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.JoinHandle.html" title="struct async_executors::iface::JoinHandle">JoinHandle</a>&lt;Out&gt;, <a class="struct" href="../../futures_task/spawn/struct.SpawnError.html" title="struct futures_task::spawn::SpawnError">SpawnError</a>&gt;</h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-SpawnHandle%3COut%3E-for-%26mut+SH" class="impl"><a class="src rightside" href="../../src/async_executors/iface/spawn_handle.rs.html#55">source</a><a href="#impl-SpawnHandle%3COut%3E-for-%26mut+SH" class="anchor">§</a><h3 class="code-header">impl&lt;Out: 'static + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>, SH: <a class="trait" href="trait.SpawnHandle.html" title="trait async_executors::iface::SpawnHandle">SpawnHandle</a>&lt;Out&gt; + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="trait.SpawnHandle.html" title="trait async_executors::iface::SpawnHandle">SpawnHandle</a>&lt;Out&gt; for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut SH</a></h3></section></summary><div class="impl-items"><section id="method.spawn_handle_obj-4" class="method trait-impl"><a class="src rightside" href="../../src/async_executors/iface/spawn_handle.rs.html#55">source</a><a href="#method.spawn_handle_obj-4" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.spawn_handle_obj" class="fn">spawn_handle_obj</a>(
    &amp;self,
    future: <a class="struct" href="../../futures_task/future_obj/struct.FutureObj.html" title="struct futures_task::future_obj::FutureObj">FutureObj</a>&lt;'static, Out&gt;
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.JoinHandle.html" title="struct async_executors::iface::JoinHandle">JoinHandle</a>&lt;Out&gt;, <a class="struct" href="../../futures_task/spawn/struct.SpawnError.html" title="struct futures_task::spawn::SpawnError">SpawnError</a>&gt;</h4></section></div></details><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-SpawnHandle%3COut%3E-for-AsyncStd" class="impl"><a class="src rightside" href="../../src/async_executors/exec/async_std.rs.html#77-86">source</a><a href="#impl-SpawnHandle%3COut%3E-for-AsyncStd" class="anchor">§</a><h3 class="code-header">impl&lt;Out: 'static + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>&gt; <a class="trait" href="trait.SpawnHandle.html" title="trait async_executors::iface::SpawnHandle">SpawnHandle</a>&lt;Out&gt; for <a class="struct" href="../exec/struct.AsyncStd.html" title="struct async_executors::exec::AsyncStd">AsyncStd</a></h3></section></div><script src="../../implementors/async_executors/iface/spawn_handle/trait.SpawnHandle.js" data-ignore-extern-crates="alloc" async></script></section></div></main></body></html>